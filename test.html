<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" href="data:;base64,=" />
<title>测试</title>
<style>
*{margin:0;padding:0;-webkit-user-select:none;font-family:consolas;box-sizing: border-box;}
html,body{height: 100%;}
svg{cursor: crosshair;}
</style>
</head>
<body>
	<svg class="contain" width="100%" height="100%"></svg>
</body>
</html>
<script>
window.onload = function () {
	var contain = document.querySelector(".contain");

		contain.onmousedown = function (ev) {
			var rect = document.createElementNS("http://www.w3.org/2000/svg","rect");
				contain.appendChild(rect);
				var startX = ev.clientX,
					startY = ev.clientY,
					endX, endY;
				rect.setAttribute("x",startX);
				rect.setAttribute("y",startY);
				rect.setAttribute("rx",6);


			document.onmousemove = function (ev) {
				endX = ev.clientX;
				endY = ev.clientY;
				if(endX > startX) {
					rect.setAttribute("width",endX - startX);
				}
				if(endY > startY) {
					rect.setAttribute("height",endY - startY);
				}

				if(endX < startX) {
					rect.setAttribute("x", endX);
					rect.setAttribute("width", startX - endX);
				}
				if(endY < startY) {
					rect.setAttribute("y", endY);
					rect.setAttribute("height", startY - endY);	
				}
			}
			document.onmouseup = function () {
				console.log(startX,startY,endX,endY);
				if(!endX || !endY || (endY - startY == 0) || (endX - startX == 0)) {
					contain.removeChild(rect);
				}
				document.onmousemove = null;
				document.onmouseup = null;
			}
		}
}
</script>
<!--


corner.onmousedown = function () {
			var isThat = btn.classList.contains("wocao");
			//console.log(isThat);
			document.onmousemove = function (ev) {
				if(isThat) {
					target.style.width = target.style.height = ev.clientY + "px";

				}else {
					target.style.width = ev.clientX + "px";
					target.style.height = ev.clientY + "px";
				}
			}
			document.onmouseup = function () {
				document.onmousemove = null;
				document.onmouseup = null;
			}
		}




-->